{"version":3,"file":"js/607-legacy.651a361f.js","mappings":"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","sources":["webpack://hello-world/./src/views/User.vue?8471","webpack://hello-world/./src/components/UserProfileCard.vue?b1c0","webpack://hello-world/src/components/UserProfileCard.vue","webpack://hello-world/./src/components/UserProfileCard.vue?63d4","webpack://hello-world/./src/components/UserProfileCard.vue","webpack://hello-world/./src/components/UserFollowingsCard.vue?6b84","webpack://hello-world/src/components/UserFollowingsCard.vue","webpack://hello-world/./src/components/UserFollowingsCard.vue?8e8a","webpack://hello-world/./src/components/UserFollowingsCard.vue","webpack://hello-world/./src/components/UserFollowersCard.vue?2ec7","webpack://hello-world/src/components/UserFollowersCard.vue","webpack://hello-world/./src/components/UserFollowersCard.vue?acaf","webpack://hello-world/./src/components/UserFollowersCard.vue","webpack://hello-world/./src/components/UserCommentsCard.vue?f8dc","webpack://hello-world/src/components/UserCommentsCard.vue","webpack://hello-world/./src/components/UserCommentsCard.vue?3c4c","webpack://hello-world/./src/components/UserCommentsCard.vue","webpack://hello-world/./src/components/UserFavoritedRestaurantsCard.vue?69e7","webpack://hello-world/src/components/UserFavoritedRestaurantsCard.vue","webpack://hello-world/./src/components/UserFavoritedRestaurantsCard.vue?e78e","webpack://hello-world/./src/components/UserFavoritedRestaurantsCard.vue","webpack://hello-world/src/views/User.vue","webpack://hello-world/./src/views/User.vue?f4e4","webpack://hello-world/./src/views/User.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[_c('profile-card',{attrs:{\"initial-profile\":_vm.profile,\"initial-is-followed\":_vm.isFollowed}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('followings-card',{attrs:{\"followings\":_vm.profile.Followings}}),_c('br'),_c('followers-card',{attrs:{\"followers\":_vm.profile.Followers}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('comments-card',{attrs:{\"comments\":_vm.profile.Comments}}),_c('br'),_c('favorited-restaurants',{attrs:{\"favorited-restaurants\":_vm.profile.FavoritedRestaurants}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.profile.image),\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.profile.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.profile.email))]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Comments.length))]),_vm._v(\" 已評論餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.FavoritedRestaurants.length))]),_vm._v(\" 收藏的餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Followings.length))]),_vm._v(\" followings (追蹤者)\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Followers.length))]),_vm._v(\" followers (追隨者)\")])]),(_vm.currentUser.id === _vm.profile.id)?_c('p',[_c('router-link',{attrs:{\"to\":{ name: 'user-edit', params: { id: _vm.profile.id } }}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"edit\")])])],1):_c('p',{staticClass:\"mt-3\"},[(_vm.isFollowed)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteFollowing(_vm.profile.id)}}},[_vm._v(\" 取消追蹤 \")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addFollowing(_vm.profile.id)}}},[_vm._v(\" 追蹤 \")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card mb-3\">\r\n    <div class=\"row no-gutters\">\r\n      <div class=\"col-md-4\">\r\n        <img\r\n          :src=\"profile.image | emptyImage\"\r\n          width=\"300px\"\r\n          height=\"300px\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">{{ profile.name }}</h5>\r\n          <p class=\"card-text\">{{ profile.email }}</p>\r\n          <ul class=\"list-unstyled list-inline\">\r\n            <li><strong>{{ profile.Comments.length }}</strong> 已評論餐廳</li>\r\n            <li><strong>{{ profile.FavoritedRestaurants.length }}</strong> 收藏的餐廳</li>\r\n            <li><strong>{{ profile.Followings.length }}</strong> followings (追蹤者)</li>\r\n            <li><strong>{{ profile.Followers.length }}</strong> followers (追隨者)</li>\r\n          </ul>\r\n          <p v-if=\"currentUser.id === profile.id\">\r\n            <router-link :to=\"{ name: 'user-edit', params: { id: profile.id } }\">\r\n              <button type=\"submit\" class=\"btn btn-primary\">edit</button>\r\n            </router-link>\r\n          </p>\r\n          <p class=\"mt-3\" v-else>\r\n            <button type=\"button\" class=\"btn btn-danger\" v-if=\"isFollowed\" @click=\"deleteFollowing(profile.id)\">\r\n              取消追蹤\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-primary\" v-else @click=\"addFollowing(profile.id)\">\r\n              追蹤\r\n            </button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport usersAPI from '../apis/users'\r\nimport { Toast } from '../utils/helpers'\r\nimport { mapState } from 'vuex'\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  mixins: [emptyImageFilter],\r\n  props: {\r\n    initialProfile: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    initialIsFollowed: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  watch: {\r\n    initialProfile (newValue) {\r\n      this.profile = {\r\n        ...this.profile,\r\n        ...newValue\r\n      }\r\n    },\r\n    initialIsFollowed (newValue) {\r\n      this.isFollowed = newValue\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      profile: this.initialProfile,\r\n      isFollowed: this.initialIsFollowed\r\n    }\r\n  },\r\n  methods: {\r\n    async addFollowing(userId) {\r\n      try {\r\n        const { data } = await usersAPI.addFollowing({ userId })\r\n\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        const temp = {\r\n          ...this.currentUser,\r\n          Followship: {\r\n            followerId: this.currentUser.id,\r\n            followingId: this.profile.id\r\n          }\r\n        }\r\n\r\n        this.profile.Followers.push(temp)\r\n        this.isFollowed = true\r\n      } catch (err) {\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法加入追蹤，請稍後再試'\r\n        })\r\n        console.log(err)\r\n      }\r\n    },\r\n    async deleteFollowing(userId) {\r\n      try {\r\n        const { data } = await usersAPI.deleteFollowing({ userId })\r\n\r\n        if (data.status !== 'success') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        this.profile.Followers = this.profile.Followers.filter(follower => follower.id !== this.currentUser.id)\r\n        this.isFollowed = false\r\n      } catch (err) {\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取消追蹤，請稍後再試'\r\n        })\r\n        console.log(err)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=0105428d&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followings.length))]),_vm._v(\" followings (追蹤者)\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followings),function(following){return _c('router-link',{key:following.id,attrs:{\"to\":{ name: 'user', params: { id: following.Followship.followingId } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(following.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\"><strong>{{ followings.length }}</strong> followings (追蹤者)</div>\r\n    <div class=\"card-body\">\r\n      <router-link v-for=\"following in followings\"\r\n                   :key=\"following.id\"\r\n                   :to=\"{ name: 'user', params: { id: following.Followship.followingId } }\"\r\n      >\r\n        <img\r\n          :src=\"following.image | emptyImage\"\r\n          width=\"60\"\r\n          height=\"60\"\r\n          class=\"avatar\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  mixins: [emptyImageFilter],\r\n  props: {\r\n    followings: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=3c3140b4&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followers.length))]),_vm._v(\" followers (追隨者)\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followers),function(follower){return _c('router-link',{key:follower.id,attrs:{\"to\":{ name: 'user', params: { id: follower.Followship.followerId } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(follower.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\"><strong>{{ followers.length }}</strong> followers (追隨者)</div>\r\n    <div class=\"card-body\">\r\n      <router-link v-for=\"follower in followers\"\r\n                   :key=\"follower.id\"\r\n                   :to=\"{ name: 'user', params: { id: follower.Followship.followerId } }\"\r\n      >\r\n        <img\r\n          :src=\"follower.image | emptyImage\"\r\n          width=\"60\"\r\n          height=\"60\"\r\n          class=\"avatar\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  mixins: [emptyImageFilter],\r\n  props: {\r\n    followers: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=04a72722&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.comments.length))]),_vm._v(\" 已評論餐廳\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.comments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{ name: 'restaurant', params: { id: comment.Restaurant.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":comment.Restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\"><strong>{{ comments.length }}</strong> 已評論餐廳</div>\r\n    <div class=\"card-body\">\r\n      <router-link v-for=\"comment in comments\"\r\n                   :key=\"comment.id\"\r\n                   :to=\"{ name: 'restaurant', params: { id: comment.Restaurant.id } }\"\r\n      >\r\n        <img\r\n          :src=\"comment.Restaurant.image\"\r\n          width=\"60\"\r\n          height=\"60\"\r\n          class=\"avatar\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    comments: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=21eb55ed&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.favoritedRestaurants.length))]),_vm._v(\" 收藏的餐廳\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.favoritedRestaurants),function(favoritedRestaurant){return _c('router-link',{key:favoritedRestaurant.id,attrs:{\"to\":{ name: 'restaurant', params: { id: favoritedRestaurant.Favorite.RestaurantId } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(favoritedRestaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\"><strong>{{ favoritedRestaurants.length }}</strong> 收藏的餐廳</div>\r\n    <div class=\"card-body\">\r\n      <router-link v-for=\"favoritedRestaurant in favoritedRestaurants\"\r\n                   :key=\"favoritedRestaurant.id\"\r\n                   :to=\"{ name: 'restaurant', params: { id: favoritedRestaurant.Favorite.RestaurantId } }\"\r\n      >\r\n        <img\r\n          :src=\"favoritedRestaurant.image | emptyImage\"\r\n          width=\"60\"\r\n          height=\"60\"\r\n          class=\"avatar\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { emptyImageFilter } from '../utils/mixins'\r\n\r\nexport default {\r\n  mixins: [emptyImageFilter],\r\n  props: {\r\n    favoritedRestaurants: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=5ef3baaa&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"album py-5 bg-light\">\r\n    <div class=\"container\">\r\n      <profile-card :initial-profile=\"profile\" :initial-is-followed=\"isFollowed\"/>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n          <followings-card :followings=\"profile.Followings\"/>\r\n          <br />\r\n          <followers-card :followers=\"profile.Followers\"/>\r\n        </div>\r\n        <div class=\"col-md-8\">\r\n          <comments-card :comments=\"profile.Comments\"/>\r\n          <br />\r\n          <favorited-restaurants :favorited-restaurants=\"profile.FavoritedRestaurants\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserProfileCard from '../components/UserProfileCard.vue'\r\nimport UserFollowingsCard from '../components/UserFollowingsCard.vue'\r\nimport UserFollowersCard from '../components/UserFollowersCard.vue'\r\nimport UserCommentsCard from '../components/UserCommentsCard.vue'\r\nimport UserFavoritedRestaurantsCard from '../components/UserFavoritedRestaurantsCard.vue'\r\nimport usersAPI from '../apis/users'\r\nimport { Toast } from '../utils/helpers'\r\n\r\nexport default {\r\n  name: 'user-profile',\r\n  components:{\r\n    'profile-card': UserProfileCard,\r\n    'followings-card': UserFollowingsCard,\r\n    'followers-card': UserFollowersCard,\r\n    'comments-card': UserCommentsCard,\r\n    'favorited-restaurants': UserFavoritedRestaurantsCard\r\n  },\r\n  data() {\r\n    return {\r\n      profile: {\r\n        id: -1,\r\n        name: '',\r\n        email: '',\r\n        isAdmin: false,\r\n        image: '',\r\n        Comments: [],\r\n        FavoritedRestaurants: [],\r\n        Followers: [],\r\n        Followings: [],\r\n      },\r\n      isFollowed: false\r\n    }\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { id } = to.params\r\n    this.fetchUser(id)\r\n    next()\r\n  },\r\n  created() {\r\n    const { id: userId } = this.$route.params\r\n    this.fetchUser(userId)\r\n  },\r\n  methods: {\r\n    async fetchUser(userId) {\r\n      try {\r\n        const { data } = await usersAPI.get({ userId })\r\n\r\n        this.profile.id = data.profile.id\r\n        this.profile.name = data.profile.name\r\n        this.profile.email = data.profile.email\r\n        this.profile.isAdmin = data.profile.isAdmin\r\n        this.profile.image = data.profile.image\r\n        this.profile.Comments = data.profile.Comments\r\n        this.profile.FavoritedRestaurants = data.profile.FavoritedRestaurants\r\n        this.profile.Followers = data.profile.Followers\r\n        this.profile.Followings = data.profile.Followings\r\n        this.isFollowed = data.isFollowed\r\n      } catch (err) {\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得用戶資訊，請稍後再試'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=14e26296&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","profile","isFollowed","Followings","Followers","Comments","FavoritedRestaurants","staticRenderFns","_f","image","_v","_s","name","email","length","currentUser","id","params","on","$event","deleteFollowing","addFollowing","mixins","props","initialProfile","type","Object","required","initialIsFollowed","Boolean","default","watch","newValue","data","methods","userId","usersAPI","temp","Followship","followerId","followingId","Toast","icon","title","console","computed","mapState","component","followings","_l","following","key","Array","followers","follower","comments","comment","Restaurant","favoritedRestaurants","favoritedRestaurant","Favorite","RestaurantId","components","UserProfileCard","UserFollowingsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","isAdmin","beforeRouteUpdate","to","from","next","fetchUser","created"],"sourceRoot":""}