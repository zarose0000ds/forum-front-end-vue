"use strict";(self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[]).push([[337],{2337:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-5"},[s("nav-tabs"),t.isLoading?s("loading-spinner"):[s("h1",{staticClass:"mt-5"},[t._v("最新動態")]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h3",[t._v("最新餐廳")]),s("newest-restaurants",{attrs:{restaurants:t.restaurants}})],1),s("div",{staticClass:"col-md-6"},[s("h3",[t._v("最新評論")]),s("newest-comments",{attrs:{comments:t.comments}})],1)])]],2)},a=[],n=s(6198),i=(s(5666),s(6934)),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("最新餐廳")]),s("div",{staticClass:"card-body"},t._l(t.restaurants,(function(e){return s("div",{key:e.id},[s("h4",[s("router-link",{attrs:{to:{name:"restaurant",params:{id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),s("small",[t._v(t._s(e.Category?e.Category.name:"未分類"))])],1),s("p",[t._v(t._s(e.description))]),t._v(" "+t._s(t._f("fromNow")(e.createdAt))+" "),s("hr")])})),0)])},o=[],l=s(8247),u={mixins:[l.q],props:{restaurants:{type:Array,required:!0}}},d=u,m=s(1001),v=(0,m.Z)(d,c,o,!1,null,"06b48763",null),_=v.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("最新評論")]),s("div",{staticClass:"card-body"},t._l(t.comments,(function(e){return s("div",{key:e.id},[s("h4",[s("router-link",{attrs:{to:{name:"restaurant",params:{id:e.Restaurant.id}}}},[t._v(" "+t._s(e.Restaurant.name)+" ")])],1),s("p",[t._v(t._s(e.text))]),t._v(" by "),s("a",{attrs:{href:"#"}},[t._v(t._s(e.User.name))]),t._v(" at "+t._s(t._f("fromNow")(e.createdAt))+" "),s("hr")])})),0)])},f=[],p={mixins:[l.q],props:{comments:{type:Array,required:!0}}},C=p,w=(0,m.Z)(C,h,f,!1,null,null,null),g=w.exports,y=s(2447),k=s(1947),b=s(1926),x={name:"restaurants-home",components:{"nav-tabs":i.Z,"newest-restaurants":_,"newest-comments":g,"loading-spinner":y.Z},data:function(){return{restaurants:[],comments:[],isLoading:!0}},created:function(){this.fetchFeeds()},methods:{fetchFeeds:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.Z.getRestaurantsFeeds();case 3:s=e.sent,t.restaurants=s.data.restaurants,t.comments=s.data.comments,t.isLoading=!1,e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](0),t.isLoading=!1,b.F.fire({icon:"error",title:"無法取得資料，請稍後再試"}),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},Z=x,R=(0,m.Z)(Z,r,a,!1,null,null,null),q=R.exports}}]);
//# sourceMappingURL=337-legacy.8d310a13.js.map